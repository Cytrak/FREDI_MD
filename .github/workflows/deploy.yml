name: Node.js CI

on:
  push:
    branches:
      - main
      
jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [20.x]

    steps:
    - name: Checkout Suhail-Md repository
      uses: actions/checkout@v3

    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}

    - name: Install libraries
      run: npm install

    - name: Start Suhail-Md
    
      env:
          OWNER_NAME:Cytra 
          OWNER_NUMBER:254715155196
          SESSION_ID:eyJub2lzZUtleSI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiYUt3aVl0MmxDajJPRVAwWUY4djExNE8yeHA0OVlKbysyc291MHRRQUpGdz0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiMmhpUUFNUm93R3ZmbFJxbnlTd0FjenVWSmsxL08yTDkxSHJZT3loR0dDMD0ifX0sInBhaXJpbmdFcGhlbWVyYWxLZXlQYWlyIjp7InByaXZhdGUiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJNTXpFdThjNTVIdkhJWjlmSjBBRTBhdy9hYmVIRnNxanM2N2xVZkNFR0ZNPSJ9LCJwdWJsaWMiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiI1ZEROcVZMNVUxVGVvdFl1TGwza095Q1pkdVhkT1g1YlM4K0VMQXp3R0hBPSJ9fSwic2lnbmVkSWRlbnRpdHlLZXkiOnsicHJpdmF0ZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IitDT21ObHpDTDluT0lId24yNzhGanpvNFRyTHBCNlN4VVFLSGlvbTBiM009In0sInB1YmxpYyI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6InZzNVd2a0N3bFZSZ2N6R09pa2VGYXh5VllDL29tQ29xVUo1cEtTMDJEV009In19LCJzaWduZWRQcmVLZXkiOnsia2V5UGFpciI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoibUNnQlRYMXlKMXZHUG96V1FTRHkyU0FkQUlTWVVaTkcrTExPUHFLd0psRT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiQm03YXFHaXdKZko5ek9EQkF6SG9RbUg3OURJRVpoZkhTSFdQbTlJdkVFYz0ifX0sInNpZ25hdHVyZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IktrS1BLRXgvUTBLNVk0RjdOczVOd3B3OU5sT2JNelJ3VVZyeW8yWmlBbk9YemI5a0xBb09zVWwxTnQ3SVNPSjQvMWVOYlhtTG91bWcvWmN5RUlENEF3PT0ifSwia2V5SWQiOjF9LCJyZWdpc3RyYXRpb25JZCI6MjA5LCJhZHZTZWNyZXRLZXkiOiJEd1c3QUFOTnlvT1NxeG5RU1dXaGwya1N6RXJZNXF1MG5iYTRKYk1IczY0PSIsInByb2Nlc3NlZEhpc3RvcnlNZXNzYWdlcyI6W3sia2V5Ijp7InJlbW90ZUppZCI6IjI1NDcxNTE1NTE5NkBzLndoYXRzYXBwLm5ldCIsImZyb21NZSI6dHJ1ZSwiaWQiOiJEODU1RDBCN0UzNzIxQTM1RDAyMjg0OTYwMDRGOTJBMyJ9LCJtZXNzYWdlVGltZXN0YW1wIjoxNzIzNTQwOTE0fV0sIm5leHRQcmVLZXlJZCI6MzEsImZpcnN0VW51cGxvYWRlZFByZUtleUlkIjozMSwiYWNjb3VudFN5bmNDb3VudGVyIjowLCJhY2NvdW50U2V0dGluZ3MiOnsidW5hcmNoaXZlQ2hhdHMiOmZhbHNlfSwiZGV2aWNlSWQiOiJZaEYwTGw0WFFXdUxOV0JLOEI0UzRBIiwicGhvbmVJZCI6IjJlOWVmNDVjLWUzYmEtNGM2Ny04MTUyLTU0MGUyODU0YjgxOCIsImlkZW50aXR5SWQiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiI2R2c0bWN3UUJ4VVcxdXhUb2pISlJ2TmpoVkE9In0sInJlZ2lzdGVyZWQiOnRydWUsImJhY2t1cFRva2VuIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiMFhmNVpSdG41a2VxMW1vZHlVWGRHR1Bya1VBPSJ9LCJyZWdpc3RyYXRpb24iOnt9LCJwYWlyaW5nQ29kZSI6IlYyMkJFMVdFIiwibWUiOnsiaWQiOiIyNTQ3MTUxNTUxOTY6ODRAcy53aGF0c2FwcC5uZXQifSwiYWNjb3VudCI6eyJkZXRhaWxzIjoiQ0lxZnJKUURFS0hMN0xVR0dBY2dBQ2dBIiwiYWNjb3VudFNpZ25hdHVyZUtleSI6IlpWOFIxdjdXeGdJb2R0c3E3cm1oa2txdlJSM2hkTUprZlFsWXZ1OHA4elE9IiwiYWNjb3VudFNpZ25hdHVyZSI6InZDb21KR09leWFxMUpzMUpXVmFOVU9ZV0UyVHBtYzRIdHdqNUdwTGpMTTBLa3JLVTI3YlRFWitjSkl6bmJQZEF3WUcwVnUyaW5QdEZVeEZXd0JmVUJRPT0iLCJkZXZpY2VTaWduYXR1cmUiOiJmdEcyUjNtZDAwVEp1WFp1ZDJnOWRWalY2QktxOERuWHpVT1NUSXdDd0N4Q2ZvT1NZNms1eFZ0VVMxSDI2SnNLT0lQZmMvY2RBQTEyQkZ0clBTVmxDZz09In0sInNpZ25hbElkZW50aXRpZXMiOlt7ImlkZW50aWZpZXIiOnsibmFtZSI6IjI1NDcxNTE1NTE5Njo4NEBzLndoYXRzYXBwLm5ldCIsImRldmljZUlkIjowfSwiaWRlbnRpZmllcktleSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkJXVmZFZGIrMXNZQ0tIYmJLdTY1b1pKS3IwVWQ0WFRDWkgwSldMN3ZLZk0wIn19XSwicGxhdGZvcm0iOiJhbmRyb2lkIiwibGFzdEFjY291bnRTeW5jVGltZXN0YW1wIjoxNzIzNTQwOTEwLCJteUFwcFN0YXRlS2V5SWQiOiJBQUFBQU80RyJ9

      run: npm start
